# .husky/pre-push

#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# 檢查版本是否已經更新過
if git log -1 --pretty=%B | grep -q "bump version"; then
  echo "Version already bumped, skipping."
  exit 0
fi

# 生成版號並提交
npm version patch --no-git-tag-version
git add package.json
git commit -m "bump version"

# 繼續推送
exit 0
